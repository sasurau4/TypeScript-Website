<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.13.67"/><style>@keyframes css-1{from{opacity:0;}to{opacity:1;}}@keyframes css-2{from{opacity:1;}to{opacity:0;}}@keyframes css-3{from{transform:translate3d(-10px,0,0);}to{transform:translate3d(0,0,0);}}@keyframes css-4{from{transform:translate3d(-20px,0,0);}to{transform:translate3d(0,0,0);}}@keyframes css-5{from{transform:translate3d(-40px,0,0);}to{transform:translate3d(0,0,0);}}@keyframes css-6{from{transform:translate3d(-400px,0,0);}to{transform:translate3d(0,0,0);}}@keyframes css-7{from{transform:translate3d(10px,0,0);}to{transform:translate3d(0,0,0);}}@keyframes css-8{from{transform:translate3d(20px,0,0);}to{transform:translate3d(0,0,0);}}@keyframes css-9{from{transform:translate3d(40px,0,0);}to{transform:translate3d(0,0,0);}}@keyframes css-10{from{transform:translate3d(400px,0,0);}to{transform:translate3d(0,0,0);}}@keyframes css-11{from{transform:translate3d(0,10px,0);}to{transform:translate3d(0,0,0);}}@keyframes css-12{from{transform:translate3d(0,20px,0);}to{transform:translate3d(0,0,0);}}@keyframes css-13{from{transform:translate3d(0,-10px,0);}to{transform:translate3d(0,0,0);}}@keyframes css-14{from{transform:translate3d(0,-20px,0);}to{transform:translate3d(0,0,0);}}@keyframes css-15{from{transform:translate3d(0,0,0);}to{transform:translate3d(10px,0,0);}}@keyframes css-16{from{transform:translate3d(0,0,0);}to{transform:translate3d(20px,0,0);}}@keyframes css-17{from{transform:translate3d(0,0,0);}to{transform:translate3d(40px,0,0);}}@keyframes css-18{from{transform:translate3d(0,0,0);}to{transform:translate3d(400px,0,0);}}@keyframes css-19{from{transform:translate3d(0,0,0);}to{transform:translate3d(-10px,0,0);}}@keyframes css-20{from{transform:translate3d(0,0,0);}to{transform:translate3d(-20px,0,0);}}@keyframes css-21{from{transform:translate3d(0,0,0);}to{transform:translate3d(-40px,0,0);}}@keyframes css-22{from{transform:translate3d(0,0,0);}to{transform:translate3d(-400px,0,0);}}@keyframes css-23{from{transform:translate3d(0,0,0);}to{transform:translate3d(0,-10px,0);}}@keyframes css-24{from{transform:translate3d(0,0,0);}to{transform:translate3d(0,-20px,0);}}@keyframes css-25{from{transform:translate3d(0,0,0);}to{transform:translate3d(0,10px,0);}}@keyframes css-26{from{transform:translate3d(0,0,0);}to{transform:translate3d(0,20px,0);}}@keyframes css-27{from{transform:scale3d(.98,.98,1);}to{transform:scale3d(1,1,1);}}@keyframes css-28{from{transform:scale3d(1,1,1);}to{transform:scale3d(.98,.98,1);}}@keyframes css-29{from{transform:scale3d(1.03,1.03,1);}to{transform:scale3d(1,1,1);}}@keyframes css-30{from{transform:scale3d(1,1,1);}to{transform:scale3d(1.03,1.03,1);}}@keyframes css-31{from{transform:rotateZ(0deg);}to{transform:rotateZ(90deg);}}@keyframes css-32{from{transform:rotateZ(0deg);}to{transform:rotateZ(-90deg);}}@font-face{font-family:'Leelawadee UI Web';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-light.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-light.woff') format('woff');font-weight:100;font-style:normal;}@font-face{font-family:'Leelawadee UI Web';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-semilight.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-semilight.woff') format('woff');font-weight:300;font-style:normal;}@font-face{font-family:'Leelawadee UI Web';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-regular.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-regular.woff') format('woff');font-weight:400;font-style:normal;}@font-face{font-family:'Leelawadee UI Web';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-semibold.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-semibold.woff') format('woff');font-weight:600;font-style:normal;}@font-face{font-family:'Segoe UI Web (Arabic)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-light.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-light.woff') format('woff');font-weight:100;font-style:normal;}@font-face{font-family:'Segoe UI Web (Arabic)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-semilight.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-semilight.woff') format('woff');font-weight:300;font-style:normal;}@font-face{font-family:'Segoe UI Web (Arabic)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-regular.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-regular.woff') format('woff');font-weight:400;font-style:normal;}@font-face{font-family:'Segoe UI Web (Arabic)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-semibold.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-arabic/segoeui-semibold.woff') format('woff');font-weight:600;font-style:normal;}@font-face{font-family:'Segoe UI Web (Cyrillic)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-light.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-light.woff') format('woff');font-weight:100;font-style:normal;}@font-face{font-family:'Segoe UI Web (Cyrillic)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-semilight.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-semilight.woff') format('woff');font-weight:300;font-style:normal;}@font-face{font-family:'Segoe UI Web (Cyrillic)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-regular.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-regular.woff') format('woff');font-weight:400;font-style:normal;}@font-face{font-family:'Segoe UI Web (Cyrillic)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-semibold.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-cyrillic/segoeui-semibold.woff') format('woff');font-weight:600;font-style:normal;}@font-face{font-family:'Segoe UI Web (East European)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-light.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-light.woff') format('woff');font-weight:100;font-style:normal;}@font-face{font-family:'Segoe UI Web (East European)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-semilight.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-semilight.woff') format('woff');font-weight:300;font-style:normal;}@font-face{font-family:'Segoe UI Web (East European)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-regular.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-regular.woff') format('woff');font-weight:400;font-style:normal;}@font-face{font-family:'Segoe UI Web (East European)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-semibold.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-easteuropean/segoeui-semibold.woff') format('woff');font-weight:600;font-style:normal;}@font-face{font-family:'Segoe UI Web (Greek)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-light.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-light.woff') format('woff');font-weight:100;font-style:normal;}@font-face{font-family:'Segoe UI Web (Greek)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-semilight.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-semilight.woff') format('woff');font-weight:300;font-style:normal;}@font-face{font-family:'Segoe UI Web (Greek)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-regular.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-regular.woff') format('woff');font-weight:400;font-style:normal;}@font-face{font-family:'Segoe UI Web (Greek)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-semibold.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-greek/segoeui-semibold.woff') format('woff');font-weight:600;font-style:normal;}@font-face{font-family:'Segoe UI Web (Hebrew)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-light.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-light.woff') format('woff');font-weight:100;font-style:normal;}@font-face{font-family:'Segoe UI Web (Hebrew)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-semilight.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-semilight.woff') format('woff');font-weight:300;font-style:normal;}@font-face{font-family:'Segoe UI Web (Hebrew)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-regular.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-regular.woff') format('woff');font-weight:400;font-style:normal;}@font-face{font-family:'Segoe UI Web (Hebrew)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-semibold.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-hebrew/segoeui-semibold.woff') format('woff');font-weight:600;font-style:normal;}@font-face{font-family:'Segoe UI Web (Vietnamese)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-light.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-light.woff') format('woff');font-weight:100;font-style:normal;}@font-face{font-family:'Segoe UI Web (Vietnamese)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-semilight.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-semilight.woff') format('woff');font-weight:300;font-style:normal;}@font-face{font-family:'Segoe UI Web (Vietnamese)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-regular.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-regular.woff') format('woff');font-weight:400;font-style:normal;}@font-face{font-family:'Segoe UI Web (Vietnamese)';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-semibold.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-vietnamese/segoeui-semibold.woff') format('woff');font-weight:600;font-style:normal;}@font-face{font-family:'Segoe UI Web (West European)';src:local('Segoe UI Light'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-light.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-light.woff') format('woff');font-weight:100;font-style:normal;}@font-face{font-family:'Segoe UI Web (West European)';src:local('Segoe UI SemiLight'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-semilight.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-semilight.woff') format('woff');font-weight:300;font-style:normal;}@font-face{font-family:'Segoe UI Web (West European)';src:local('Segoe UI'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-regular.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-regular.woff') format('woff');font-weight:400;font-style:normal;}@font-face{font-family:'Segoe UI Web (West European)';src:local('Segoe UI SemiBold'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-semibold.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/segoeui-westeuropean/segoeui-semibold.woff') format('woff');font-weight:600;font-style:normal;}@font-face{font-family:''Selawik Web'';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/selawik/selawik-light.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/selawik/selawik-light.woff') format('woff');font-weight:100;font-style:normal;}@font-face{font-family:''Selawik Web'';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/selawik/selawik-semilight.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/selawik/selawik-semilight.woff') format('woff');font-weight:300;font-style:normal;}@font-face{font-family:''Selawik Web'';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/selawik/selawik-regular.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/selawik/selawik-regular.woff') format('woff');font-weight:400;font-style:normal;}@font-face{font-family:''Selawik Web'';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/selawik/selawik-semibold.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/selawik/selawik-semibold.woff') format('woff');font-weight:600;font-style:normal;}@font-face{font-family:'Leelawadee UI Web';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-semilight.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-semilight.woff') format('woff');font-weight:100;font-style:normal;}@font-face{font-family:'Leelawadee UI Web';src:url('https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-bold.woff2') format('woff2'),url('https://static2.sharepointonline.com/files/fabric/assets/fonts/leelawadeeui-thai/leelawadeeui-bold.woff') format('woff');font-weight:600;font-style:normal;}@keyframes css-37{0%{transform:translate(0, 0);animation-timing-function:linear;}78.57%{transform:translate(0, 0);animation-timing-function:cubic-bezier(0.62, 0, 0.56, 1);}82.14%{transform:translate(0, -5px);animation-timing-function:cubic-bezier(0.58, 0, 0, 1);}84.88%{transform:translate(0, 9px);animation-timing-function:cubic-bezier(1, 0, 0.56, 1);}88.1%{transform:translate(0, -2px);animation-timing-function:cubic-bezier(0.58, 0, 0.67, 1);}90.12%{transform:translate(0, 0);animation-timing-function:linear;}100%{transform:translate(0, 0);}}@keyframes css-38{0%{transform: scale(0);animation-timing-function:linear;}14.29%{transform:scale(0);animation-timing-function:cubic-bezier(0.84, 0, 0.52, 0.99);}16.67%{transform:scale(1.15);animation-timing-function:cubic-bezier(0.48, -0.01, 0.52, 1.01);}19.05%{transform:scale(0.95);animation-timing-function:cubic-bezier(0.48, 0.02, 0.52, 0.98);}21.43%{transform:scale(1);animation-timing-function:linear;}42.86%{transform:scale(1);animation-timing-function:cubic-bezier(0.48, -0.02, 0.52, 1.02);}45.71%{transform:scale(0.8);animation-timing-function:cubic-bezier(0.48, 0.01, 0.52, 0.99);}50%{transform:scale(1);animation-timing-function:linear;}90.12%{transform:scale(1);animation-timing-function:cubic-bezier(0.48, -0.02, 0.52, 1.02);}92.98%{transform:scale(0.8);animation-timing-function:cubic-bezier(0.48, 0.01, 0.52, 0.99);}97.26%{transform:scale(1);animation-timing-function:linear;}100%{transform:scale(1);}}@keyframes css-39{0%{transform:rotate(0deg);animation-timing-function:linear;}83.33%{transform: rotate(0deg);animation-timing-function:cubic-bezier(0.33, 0, 0.67, 1);}83.93%{transform:rotate(15deg);animation-timing-function:cubic-bezier(0.33, 0, 0.67, 1);}84.52%{transform:rotate(-15deg);animation-timing-function:cubic-bezier(0.33, 0, 0.67, 1);}85.12%{transform:rotate(15deg);animation-timing-function:cubic-bezier(0.33, 0, 0.67, 1);}85.71%{transform:rotate(-15deg);animation-timing-function:cubic-bezier(0.33, 0, 0.67, 1);}86.31%{transform:rotate(0deg);animation-timing-function:linear;}100%{transform:rotate(0deg);}}@keyframes css-40{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}@keyframes css-41{0%{left:-30%;}100%{left:100%;}}@keyframes css-42{100%{right:-30%;}0%{right:100%;}}@keyframes css-43{0%{background-position:-1000%;}100%{background-position:1000%;}}@keyframes css-44{100%{background-position:-1000%;}0%{background-position:1000%;}}@keyframes css-45{0%{opacity:0;animation-timing-function:cubic-bezier(.1,.9,.2,1);transform:scale3d(.90,.90,.90);}100%{opacity:1;transform:scale3d(1,1,1);}}</style><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><link as="script" rel="preload" href="/component---src-templates-handbook-tsx-16ee75366df1adfb048f.js"/><link as="script" rel="preload" href="/app-352c7c1acacfeb7cf5bd.js"/><link as="script" rel="preload" href="/webpack-runtime-5e1ec6c861ae70872e2b.js"/><link as="fetch" rel="preload" href="/page-data/docs/handbook/release-notes/typescript-3-4.html/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto"><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/"></a></h3></header><main><div><p>{% raw %}## Faster subsequent builds with the <code class="language-text">--incremental</code> flag</p>
<p>TypeScript 3.4 introduces a new flag called <code class="language-text">--incremental</code> which tells TypeScript to save information about the project graph from the last compilation.
The next time TypeScript is invoked with <code class="language-text">--incremental</code>, it will use that information to detect the least costly way to type-check and emit changes to your project.</p>
<div class="gatsby-highlight" data-language="json5"><pre class="language-json5"><code class="language-json5"><span class="token comment">// tsconfig.json</span>
<span class="token punctuation">{</span>
    <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"incremental"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">"outDir"</span><span class="token operator">:</span> <span class="token string">"./lib"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"include"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"./src"</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div>
<p>By default with these settings, when we run <code class="language-text">tsc</code>, TypeScript will look for a file called <code class="language-text">.tsbuildinfo</code> in the output directory (<code class="language-text">./lib</code>).
If <code class="language-text">./lib/.tsbuildinfo</code> doesn’t exist, it’ll be generated.
But if it does, <code class="language-text">tsc</code> will try to use that file to incrementally type-check and update our output files.</p>
<p>These <code class="language-text">.tsbuildinfo</code> files can be safely deleted and don’t have any impact on our code at runtime - they’re purely used to make compilations faster.
We can also name them anything that we want, and place them anywhere we want using the <code class="language-text">--tsBuildInfoFile</code> flag.</p>
<div class="gatsby-highlight" data-language="json5"><pre class="language-json5"><code class="language-json5"><span class="token comment">// front-end.tsconfig.json</span>
<span class="token punctuation">{</span>
    <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"incremental"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">"tsBuildInfoFile"</span><span class="token operator">:</span> <span class="token string">"./buildcache/front-end"</span><span class="token punctuation">,</span>
        <span class="token property">"outDir"</span><span class="token operator">:</span> <span class="token string">"./lib"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"include"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"./src"</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>Composite projects</h3>
<p>Part of the intent with composite projects (<code class="language-text">tsconfig.json</code>s with <code class="language-text">composite</code> set to <code class="language-text">true</code>) is that references between different projects can be built incrementally.
As such, composite projects will <strong>always</strong> produce <code class="language-text">.tsbuildinfo</code> files.</p>
<h3><code class="language-text">outFile</code></h3>
<p>When <code class="language-text">outFile</code> is used, the build information file’s name will be based on the output file’s name.
As an example, if our output JavaScript file is <code class="language-text">./output/foo.js</code>, then under the <code class="language-text">--incremental</code> flag, TypeScript will generate the file <code class="language-text">./output/foo.tsbuildinfo</code>.
As above, this can be controlled with the <code class="language-text">--tsBuildInfoFile</code> flag.</p>
<h2>Higher order type inference from generic functions</h2>
<p>TypeScript 3.4 can now produce generic function types when inference from other generic functions produces free type variables for inferences.
This means many function composition patterns now work better in 3.4.</p>
<p>To get more specific, let’s build up some motivation and consider the following <code class="language-text">compose</code> function:</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> compose<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">,</span> <span class="token constant">C</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token function-variable function">f</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">arg<span class="token punctuation">:</span> <span class="token constant">A</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">B</span><span class="token punctuation">,</span> <span class="token function-variable function">g</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">arg<span class="token punctuation">:</span> <span class="token constant">B</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">C</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">arg<span class="token punctuation">:</span> <span class="token constant">A</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">C</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token parameter">x</span> <span class="token operator">=></span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p><code class="language-text">compose</code> takes two other functions:</p>
<ul>
<li><code class="language-text">f</code> which takes some argument (of type <code class="language-text">A</code>) and returns a value of type <code class="language-text">B</code></li>
<li><code class="language-text">g</code> which takes an argument of type <code class="language-text">B</code> (the type <code class="language-text">f</code> returned), and returns a value of type <code class="language-text">C</code></li>
</ul>
<p><code class="language-text">compose</code> then returns a function which feeds its argument through <code class="language-text">f</code> and then <code class="language-text">g</code>.</p>
<p>When calling this function, TypeScript will try to figure out the types of <code class="language-text">A</code>, <code class="language-text">B</code>, and <code class="language-text">C</code> through a process called <em>type argument inference</em>.
This inference process usually works pretty well:</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getDisplayName</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">:</span> Person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> p<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getLength</span><span class="token punctuation">(</span><span class="token parameter">s<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> s<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// has type '(p: Person) => number'</span>
<span class="token keyword">const</span> getDisplayNameLength <span class="token operator">=</span> <span class="token function">compose</span><span class="token punctuation">(</span>
    getDisplayName<span class="token punctuation">,</span>
    getLength<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// works and returns the type 'number'</span>
<span class="token function">getDisplayNameLength</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Person McPersonface"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>The inference process is fairly straightforward here because <code class="language-text">getDisplayName</code> and <code class="language-text">getLength</code> use types that can easily be referenced.
However, in TypeScript 3.3 and earlier, generic functions like <code class="language-text">compose</code> didn’t work so well when passed other generic functions.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token punctuation">{</span>
    value<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> makeArray<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> makeBox<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Box<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> value <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// has type '(arg: {}) => Box&lt;{}[]>'</span>
<span class="token keyword">const</span> makeBoxedArray <span class="token operator">=</span> <span class="token function">compose</span><span class="token punctuation">(</span>
    makeArray<span class="token punctuation">,</span>
    makeBox<span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token function">makeBoxedArray</span><span class="token punctuation">(</span><span class="token string">"hello!"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//                                ~~~~~~~~~~~</span>
<span class="token comment">// error: Property 'toUpperCase' does not exist on type '{}'.</span></code></pre></div>
<p>In older versions, TypeScript would infer the empty object type (<code class="language-text">{}</code>) when inferring from other type variables like <code class="language-text">T</code> and <code class="language-text">U</code>.</p>
<p>During type argument inference in TypeScript 3.4, for a call to a generic function that returns a function type, TypeScript <em>will</em>, as appropriate, propagate type parameters from generic function arguments onto the resulting function type.</p>
<p>In other words, instead of producing the type</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token punctuation">(</span><span class="token parameter">arg<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> Box<span class="token operator">&lt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></code></pre></div>
<p>TypeScript 3.4 produces the type</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token parameter">arg<span class="token punctuation">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> Box<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></code></pre></div>
<p>Notice that <code class="language-text">T</code> has been propagated from <code class="language-text">makeArray</code> into the resulting type’s type parameter list.
This means that genericity from <code class="language-text">compose</code>’s arguments has been preserved and our <code class="language-text">makeBoxedArray</code> sample will just work!</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token punctuation">{</span>
    value<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> makeArray<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> makeBox<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Box<span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> value <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// has type '&lt;T>(arg: T) => Box&lt;T[]>'</span>
<span class="token keyword">const</span> makeBoxedArray <span class="token operator">=</span> <span class="token function">compose</span><span class="token punctuation">(</span>
    makeArray<span class="token punctuation">,</span>
    makeBox<span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token comment">// works with no problem!</span>
<span class="token function">makeBoxedArray</span><span class="token punctuation">(</span><span class="token string">"hello!"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>For more details, you can <a href="https://github.com/Microsoft/TypeScript/pull/30215">read more at the original change</a>.</p>
<h2>Improvements for <code class="language-text">ReadonlyArray</code> and <code class="language-text">readonly</code> tuples</h2>
<p>TypeScript 3.4 makes it a little bit easier to use read-only array-like types.</p>
<h3>A new syntax for <code class="language-text">ReadonlyArray</code></h3>
<p>The <code class="language-text">ReadonlyArray</code> type describes <code class="language-text">Array</code>s that can only be read from.
Any variable with a reference to a <code class="language-text">ReadonlyArray</code> can’t add, remove, or replace any elements of the array.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">:</span> ReadonlyArray<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// okay</span>
    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"hello!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error!</span>
<span class="token punctuation">}</span></code></pre></div>
<p>While it’s good practice to use <code class="language-text">ReadonlyArray</code> over <code class="language-text">Array</code> when no mutation is intended, it’s often been a pain given that arrays have a nicer syntax.
Specifically, <code class="language-text">number[]</code> is a shorthand version of <code class="language-text">Array&lt;number&gt;</code>, just as <code class="language-text">Date[]</code> is a shorthand for <code class="language-text">Array&lt;Date&gt;</code>.</p>
<p>TypeScript 3.4 introduces a new syntax for <code class="language-text">ReadonlyArray</code> using a new <code class="language-text">readonly</code> modifier for array types.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">:</span> <span class="token keyword">readonly</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// okay</span>
    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"hello!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error!</span>
<span class="token punctuation">}</span></code></pre></div>
<h3><code class="language-text">readonly</code> tuples</h3>
<p>TypeScript 3.4 also introduces new support for <code class="language-text">readonly</code> tuples.
We can prefix any tuple type with the <code class="language-text">readonly</code> keyword to make it a <code class="language-text">readonly</code> tuple, much like we now can with array shorthand syntax.
As you might expect, unlike ordinary tuples whose slots could be written to, <code class="language-text">readonly</code> tuples only permit reading from those positions.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">pair<span class="token punctuation">:</span> <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pair<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// okay</span>
    pair<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello!"</span><span class="token punctuation">;</span>     <span class="token comment">// error</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The same way that ordinary tuples are types that extend from <code class="language-text">Array</code> - a tuple with elements of type <code>T<sub>1</sub></code>, <code>T<sub>2</sub></code>, … <code>T<sub>n</sub></code> extends from <code>Array&#x3C; T<sub>1</sub> | T<sub>2</sub> | … T<sub>n</sub> ></code> - <code class="language-text">readonly</code> tuples are types that extend from <code class="language-text">ReadonlyArray</code>. So a <code class="language-text">readonly</code> tuple with elements <code>T<sub>1</sub></code>, <code>T<sub>2</sub></code>, … <code>T<sub>n</sub></code> extends from <code>ReadonlyArray&#x3C; T<sub>1</sub> | T<sub>2</sub> | … T<sub>n</sub> ></code>.</p>
<h3><code class="language-text">readonly</code> mapped type modifiers and <code class="language-text">readonly</code> arrays</h3>
<p>In earlier versions of TypeScript, we generalized mapped types to operate differently on array-like types.
This meant that a mapped type like <code class="language-text">Boxify</code> could work on arrays and tuples alike.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token punctuation">}</span>

<span class="token keyword">type</span> Boxify<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> Box<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">></span>
<span class="token punctuation">}</span>

<span class="token comment">// { a: Box&lt;string>, b: Box&lt;number> }</span>
<span class="token keyword">type</span> <span class="token constant">A</span> <span class="token operator">=</span> Boxify<span class="token operator">&lt;</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">;</span>

<span class="token comment">// Array&lt;Box&lt;number>></span>
<span class="token keyword">type</span> <span class="token constant">B</span> <span class="token operator">=</span> Boxify<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span>

<span class="token comment">// [Box&lt;string>, Box&lt;number>]</span>
<span class="token keyword">type</span> <span class="token constant">C</span> <span class="token operator">=</span> Boxify<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span></code></pre></div>
<p>Unfortunately, mapped types like the <code class="language-text">Readonly</code> utility type were effectively no-ops on array and tuple types.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token comment">// lib.d.ts</span>
<span class="token keyword">type</span> Readonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// How code acted *before* TypeScript 3.4</span>

<span class="token comment">// { readonly a: string, readonly b: number }</span>
<span class="token keyword">type</span> <span class="token constant">A</span> <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">;</span>

<span class="token comment">// number[]</span>
<span class="token keyword">type</span> <span class="token constant">B</span> <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span>

<span class="token comment">// [string, boolean]</span>
<span class="token keyword">type</span> <span class="token constant">C</span> <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span></code></pre></div>
<p>In TypeScript 3.4, the <code class="language-text">readonly</code> modifier in a mapped type will automatically convert array-like types to their corresponding <code class="language-text">readonly</code> counterparts.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token comment">// How code acts now *with* TypeScript 3.4</span>

<span class="token comment">// { readonly a: string, readonly b: number }</span>
<span class="token keyword">type</span> <span class="token constant">A</span> <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">;</span>

<span class="token comment">// readonly number[]</span>
<span class="token keyword">type</span> <span class="token constant">B</span> <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span>

<span class="token comment">// readonly [string, boolean]</span>
<span class="token keyword">type</span> <span class="token constant">C</span> <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span></code></pre></div>
<p>Similarly, you could write a utility type like <code class="language-text">Writable</code> mapped type that strips away <code class="language-text">readonly</code>-ness, and that would convert <code class="language-text">readonly</code> array containers back to their mutable equivalents.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> Writable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">-</span><span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// { a: string, b: number }</span>
<span class="token keyword">type</span> <span class="token constant">A</span> <span class="token operator">=</span> Writable<span class="token operator">&lt;</span><span class="token punctuation">{</span>
    <span class="token keyword">readonly</span> a<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token keyword">readonly</span> b<span class="token punctuation">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">;</span>

<span class="token comment">// number[]</span>
<span class="token keyword">type</span> <span class="token constant">B</span> <span class="token operator">=</span> Writable<span class="token operator">&lt;</span><span class="token keyword">readonly</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span>

<span class="token comment">// [string, boolean]</span>
<span class="token keyword">type</span> <span class="token constant">C</span> <span class="token operator">=</span> Writable<span class="token operator">&lt;</span><span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">;</span></code></pre></div>
<h3>Caveats</h3>
<p>Despite its appearance, the <code class="language-text">readonly</code> type modifier can only be used for syntax on array types and tuple types.
It is not a general-purpose type operator.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">let</span> err1<span class="token punctuation">:</span> <span class="token keyword">readonly</span> Set<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// error!</span>
<span class="token keyword">let</span> err2<span class="token punctuation">:</span> <span class="token keyword">readonly</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment">// error!</span>

<span class="token keyword">let</span> okay<span class="token punctuation">:</span> <span class="token keyword">readonly</span> <span class="token builtin">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// works fine</span></code></pre></div>
<p>You can <a href="https://github.com/Microsoft/TypeScript/pull/29435">see more details in the pull request</a>.</p>
<h2><code class="language-text">const</code> assertions</h2>
<p>TypeScript 3.4 introduces a new construct for literal values called <em><code class="language-text">const</code></em> assertions.
Its syntax is a type assertion with <code class="language-text">const</code> in place of the type name (e.g. <code class="language-text">123 as const</code>).
When we construct new literal expressions with <code class="language-text">const</code> assertions, we can signal to the language that</p>
<ul>
<li>no literal types in that expression should be widened (e.g. no going from <code class="language-text">&quot;hello&quot;</code> to <code class="language-text">string</code>)</li>
<li>object literals get <code class="language-text">readonly</code> properties</li>
<li>array literals become <code class="language-text">readonly</code> tuples</li>
</ul>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token comment">// Type '"hello"'</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token string">"hello"</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

<span class="token comment">// Type 'readonly [10, 20]'</span>
<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

<span class="token comment">// Type '{ readonly text: "hello" }'</span>
<span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">"hello"</span> <span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span></code></pre></div>
<p>Outside of <code class="language-text">.tsx</code> files, the angle bracket assertion syntax can also be used.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token comment">// Type '"hello"'</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token keyword">const</span><span class="token operator">></span><span class="token string">"hello"</span><span class="token punctuation">;</span>

<span class="token comment">// Type 'readonly [10, 20]'</span>
<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token keyword">const</span><span class="token operator">></span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Type '{ readonly text: "hello" }'</span>
<span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token keyword">const</span><span class="token operator">></span><span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">"hello"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>This feature means that types that would otherwise be used just to hint immutability to the compiler can often be omitted.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token comment">// Works with no types referenced or declared.</span>
<span class="token comment">// We only needed a single const assertion.</span>
<span class="token keyword">function</span> <span class="token function">getShapes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> kind<span class="token punctuation">:</span> <span class="token string">"circle"</span><span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> kind<span class="token punctuation">:</span> <span class="token string">"square"</span><span class="token punctuation">,</span> sideLength<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> shape <span class="token keyword">of</span> <span class="token function">getShapes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Narrows perfectly!</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>shape<span class="token punctuation">.</span>kind <span class="token operator">===</span> <span class="token string">"circle"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Circle radius"</span><span class="token punctuation">,</span> shape<span class="token punctuation">.</span>radius<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Square side length"</span><span class="token punctuation">,</span> shape<span class="token punctuation">.</span>sideLength<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Notice the above needed no type annotations.
The <code class="language-text">const</code> assertion allowed TypeScript to take the most specific type of the expression.</p>
<p>This can even be used to enable <code class="language-text">enum</code>-like patterns in plain JavaScript code if you choose not to use TypeScript’s <code class="language-text">enum</code> construct.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">export</span> <span class="token keyword">const</span> Colors <span class="token operator">=</span> <span class="token punctuation">{</span>
    red<span class="token punctuation">:</span> <span class="token string">"RED"</span><span class="token punctuation">,</span>
    blue<span class="token punctuation">:</span> <span class="token string">"BLUE"</span><span class="token punctuation">,</span>
    green<span class="token punctuation">:</span> <span class="token string">"GREEN"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

<span class="token comment">// or use an 'export default'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    red<span class="token punctuation">:</span> <span class="token string">"RED"</span><span class="token punctuation">,</span>
    blue<span class="token punctuation">:</span> <span class="token string">"BLUE"</span><span class="token punctuation">,</span>
    green<span class="token punctuation">:</span> <span class="token string">"GREEN"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span></code></pre></div>
<h3>Caveats</h3>
<p>One thing to note is that <code class="language-text">const</code> assertions can only be applied immediately on simple literal expressions.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token comment">// Error! A 'const' assertion can only be applied to a</span>
<span class="token comment">// to a string, number, boolean, array, or object literal.</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0.5</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

<span class="token comment">// Works!</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0.5</span> <span class="token operator">?</span>
    <span class="token number">0</span> <span class="token keyword">as</span> <span class="token keyword">const</span> <span class="token punctuation">:</span>
    <span class="token number">1</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span></code></pre></div>
<p>Another thing to keep in mind is that <code class="language-text">const</code> contexts don’t immediately convert an expression to be fully immutable.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">"foo"</span><span class="token punctuation">,</span>
    contents<span class="token punctuation">:</span> arr<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

foo<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"bar"</span><span class="token punctuation">;</span>   <span class="token comment">// error!</span>
foo<span class="token punctuation">.</span>contents <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// error!</span>

foo<span class="token punctuation">.</span>contents<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ...works!</span></code></pre></div>
<p>For more details, you can <a href="https://github.com/Microsoft/TypeScript/pull/29510">check out the respective pull request</a>.</p>
<h2>Type-checking for <code class="language-text">globalThis</code></h2>
<p>TypeScript 3.4 introduces support for type-checking ECMAScript’s new <code class="language-text">globalThis</code> - a global variable that, well, refers to the global scope.
Unlike the above solutions, <code class="language-text">globalThis</code> provides a standard way for accessing the global scope which can be used across different environments.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token comment">// in a global file:</span>

<span class="token keyword">var</span> abc <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

<span class="token comment">// Refers to 'abc' from above.</span>
globalThis<span class="token punctuation">.</span>abc <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span></code></pre></div>
<p>Note that global variables declared with <code class="language-text">let</code> and <code class="language-text">const</code> don’t show up on <code class="language-text">globalThis</code>.</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">let</span> answer <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>

<span class="token comment">// error! Property 'answer' does not exist on 'typeof globalThis'.</span>
globalThis<span class="token punctuation">.</span>answer <span class="token operator">=</span> <span class="token number">333333</span><span class="token punctuation">;</span></code></pre></div>
<p>It’s also important to note that TypeScript doesn’t transform references to <code class="language-text">globalThis</code> when compiling to older versions of ECMAScript.
As such, unless you’re targeting evergreen browsers (which already support <code class="language-text">globalThis</code>), you may want to <a href="https://github.com/ljharb/globalThis">use an appropriate polyfill</a> instead.</p>
<p>For more details on the implementation, see <a href="https://github.com/Microsoft/TypeScript/pull/29332">the feature’s pull request</a>.</p>
<p>{% endraw %}</p></div><hr/><ul><li></li><li></li></ul></main><footer><a href="/deprecated">Old stuff</a>© <!-- -->2019<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></footer></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/docs/handbook/release-notes/typescript-3-4.html";window.webpackCompilationHash="9ba7cceb403e6d704a1e";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-352c7c1acacfeb7cf5bd.js"],"component---src-templates-handbook-tsx":["/component---src-templates-handbook-tsx-16ee75366df1adfb048f.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-ef23bbb3e08c1ed9925d.js"],"component---src-pages-playground-dev-tsx":["/component---src-pages-playground-dev-tsx-fb42bbd649daceeb46f4.js"]};/*]]>*/</script><script src="/webpack-runtime-5e1ec6c861ae70872e2b.js" async=""></script><script src="/app-352c7c1acacfeb7cf5bd.js" async=""></script><script src="/component---src-templates-handbook-tsx-16ee75366df1adfb048f.js" async=""></script></body></html>